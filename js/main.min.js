const settings={localization:document.querySelector(".localization"),pm10Info:document.querySelector(".pm10-result"),pm25Info:document.querySelector(".pm25-result"),myPromise:fetch("https://api.waqi.info/feed/krakow/?token=bec1f2834d0747c3fad4a5968e913404e4b1d0df"),results:document.querySelectorAll(".result"),answerBox:document.querySelector("p.answer"),airDesc:document.querySelector(".air-desc"),advice:document.querySelector(".advice"),image:document.querySelector("img")};function airQualityPm25(t){return t<=20}function airQualityPm10(t){return t<=35}function generalAirQuality(t,e){t&&e?(settings.answerBox.textContent="NO",settings.airDesc.textContent="good",settings.advice.textContent="can go outside, open the window and enjoy your day",settings.image.setAttribute("src","img/good.svg")):(settings.answerBox.textContent="YES",settings.airDesc.textContent="bad",settings.advice.textContent="should rather stay at home, at least for now",settings.image.setAttribute("src","img/bad.svg"))}settings.myPromise.then(t=>t.json()).then(t=>{const e=t.data.city.name;settings.localization.textContent=e.split("-")[0],settings.results.forEach(e=>{const n=e.dataset.name,a=t.data.iaqi[n];e.textContent=a.v}),generalAirQuality(airQualityPm10(t.data.iaqi.pm10.v),airQualityPm25(t.data.iaqi.pm25.v))}).catch(t=>console.error(t));